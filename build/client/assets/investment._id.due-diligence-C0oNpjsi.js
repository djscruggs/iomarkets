import{p as e,x as N,a as x,w as v,z as w,y as k,B as D,L as S}from"./chunk-OIYGIGL5-Czuf_mdf.js";import{D as f}from"./dollar-sign-D6S9qB7J.js";import{T as I,C as M}from"./trending-up-DmoKmttM.js";import{M as $,P as L,B as C}from"./phone-Bv6Qsl2A.js";import{c as o}from"./createLucideIcon-k463m4iz.js";import{A as _}from"./arrow-left-VVTAgrpH.js";/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],U=o("bot",T);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],R=o("download",A);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],m=o("file-text",F);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],j=o("image",V);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],H=o("send",z);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],b=o("video",O);function B({investment:t}){const a=r=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(r);return e.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden flex-shrink-0",children:e.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 truncate",children:t.name}),e.jsx("p",{className:"text-sm text-gray-600",children:t.sponsor})]}),e.jsxs("div",{className:"hidden lg:flex items-center gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center gap-1 text-gray-600 mb-1",children:[e.jsx(f,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs font-medium",children:"Target"})]}),e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:a(t.targetRaise)})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center gap-1 text-gray-600 mb-1",children:[e.jsx(I,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs font-medium",children:"IRR"})]}),e.jsxs("p",{className:"text-sm font-semibold text-green-600",children:[t.projectedReturn,"%"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center gap-1 text-gray-600 mb-1",children:[e.jsx(M,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs font-medium",children:"Term"})]}),e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:t.term})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center gap-1 text-gray-600 mb-1",children:[e.jsx(f,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs font-medium",children:"Min Investment"})]}),e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:a(t.minInvestment)})]})]})]})})}function P({sponsor:t}){const a=N(),r=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",minimumFractionDigits:0,maximumFractionDigits:1}).format(l),i=()=>{a(`/sponsor/${t.id}/deals`)};return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx("img",{src:t.photoUrl,alt:t.name,className:"w-16 h-16 rounded-full object-cover"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:t.name}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("a",{href:`mailto:${t.email}`,className:"flex items-center gap-1 text-xs text-gray-600 hover:text-blue-600 transition-colors",children:[e.jsx($,{className:"w-3 h-3 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:t.email})]}),e.jsxs("a",{href:`tel:${t.phone}`,className:"flex items-center gap-1 text-xs text-gray-600 hover:text-blue-600 transition-colors",children:[e.jsx(L,{className:"w-3 h-3 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:t.phone})]}),e.jsx("a",{href:t.linkedInUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs hover:opacity-80 transition-opacity",title:"LinkedIn Profile",children:e.jsx("img",{src:"/linkedin.png",alt:"LinkedIn",className:"w-3 h-3 flex-shrink-0"})})]})]})]}),e.jsxs("div",{className:"pt-3 border-t border-gray-100 grid grid-cols-2 gap-3 cursor-pointer hover:bg-gray-50 -mx-4 px-4 -mb-4 pb-4 rounded-b-lg transition-colors",onClick:i,children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-1 text-gray-600 mb-1",children:[e.jsx(C,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs font-medium",children:"Total Deals"})]}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:t.totalDeals})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-1 text-gray-600 mb-1",children:[e.jsx(f,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs font-medium",children:"Total Value"})]}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:r(t.totalValue)})]})]})]})}const q=t=>{const a=/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\s]+)/,r=t.match(a);return r&&r[1]?`https://www.youtube.com/embed/${r[1]}`:null},E=t=>t.includes("youtube.com")||t.includes("youtu.be");function Y({asset:t}){if(!t)return e.jsx("div",{className:"h-full flex items-center justify-center bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:e.jsxs("div",{className:"text-center",children:[e.jsx(m,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Select a document to view"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Choose from the due diligence materials on the left"})]})});const a=t.type==="video"&&E(t.url),r=a?q(t.url):null;return e.jsxs("div",{className:"h-full bg-white rounded-lg shadow-sm overflow-hidden flex flex-col",children:[!a&&e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[t.type==="pdf"&&e.jsx(m,{className:"w-5 h-5 text-red-500"}),t.type==="image"&&e.jsx(j,{className:"w-5 h-5 text-blue-500"}),t.type==="video"&&e.jsx(b,{className:"w-5 h-5 text-purple-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[t.size," • Uploaded"," ",new Date(t.uploadedDate).toLocaleDateString()]})]}),e.jsx("a",{href:t.url,download:!0,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium cursor-pointer",children:"Download"})]})}),e.jsxs("div",{className:`flex-1 overflow-auto ${a?"p-0":"p-6"}`,children:[t.type==="pdf"&&e.jsx("div",{className:"h-full flex items-center justify-center bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-center",children:[e.jsx(m,{className:"w-24 h-24 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-700 font-medium mb-2",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["PDF Document • ",t.size]}),e.jsx("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium cursor-pointer",children:"Open in New Tab"})]})}),t.type==="image"&&e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx("img",{src:t.url,alt:t.name,className:"max-w-full max-h-full object-contain rounded-lg"})}),t.type==="video"&&a&&r&&e.jsx("div",{className:"h-full flex items-center justify-center bg-black",children:e.jsx("iframe",{src:r,title:t.name,className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),t.type==="video"&&!a&&e.jsx("div",{className:"h-full flex items-center justify-center bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-center",children:[e.jsx(b,{className:"w-24 h-24 text-purple-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-700 font-medium mb-2",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Video File • ",t.size]}),e.jsx("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium cursor-pointer",children:"Open Video"})]})})]})]})}function Z(){const[t,a]=x.useState([{id:"1",role:"assistant",content:"Hello! I'm here to help answer questions about this investment opportunity. Ask me anything about the deal structure, financials, risks, or due diligence materials.",timestamp:new Date}]),[r,i]=x.useState(""),[l,d]=x.useState(!1),h=async s=>{if(s.preventDefault(),!r.trim()||l)return;const p={id:Date.now().toString(),role:"user",content:r,timestamp:new Date};a(c=>[...c,p]),i(""),d(!0),setTimeout(()=>{const c={id:(Date.now()+1).toString(),role:"assistant",content:"This is a simulated AI response. In production, this would connect to your AI service to provide detailed answers about the investment deal based on the due diligence materials and investment data.",timestamp:new Date};a(n=>[...n,c]),d(!1)},1e3)},u=()=>{const s=t.map(g=>{const y=g.role==="user"?"You":"AI Assistant";return`[${g.timestamp.toLocaleString()}] ${y}:
${g.content}
`}).join(`
`),p=new Blob([s],{type:"text/plain"}),c=URL.createObjectURL(p),n=document.createElement("a");n.href=c,n.download=`deal-conversation-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(c)};return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 flex flex-col h-[350px]",children:[e.jsxs("div",{className:"px-4 py-2 border-b border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"w-4 h-4 text-blue-600"}),e.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:"AI Deal Assistant"})]}),e.jsxs("button",{onClick:u,className:"flex items-center gap-1 text-xs text-blue-600 hover:text-blue-800 transition-colors cursor-pointer",title:"Download Conversation",children:[e.jsx(R,{className:"w-3 h-3"}),e.jsx("span",{children:"Download"})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-3",children:[t.map(s=>e.jsx("div",{className:`flex ${s.role==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[80%] rounded-lg px-3 py-2 ${s.role==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:[e.jsx("p",{className:"text-xs",children:s.content}),e.jsx("p",{className:`text-[10px] mt-1 ${s.role==="user"?"text-blue-100":"text-gray-500"}`,children:s.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},s.id)),l&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-gray-100 rounded-lg px-3 py-2",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce"}),e.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce delay-100"}),e.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce delay-200"})]})})})]}),e.jsx("form",{onSubmit:h,className:"p-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:r,onChange:s=>i(s.target.value),placeholder:"Ask a question about this deal...",className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:l}),e.jsx("button",{type:"submit",disabled:!r.trim()||l,className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",children:e.jsx(H,{className:"w-4 h-4"})})]})})]})}const te=({data:t})=>t?.investment?[{title:`Due Diligence - ${t.investment.name} - IOMarkets`},{name:"description",content:`Review due diligence materials, documents, and sponsor information for ${t.investment.name}.`}]:[{title:"Due Diligence - IOMarkets"}],se=v(function(){const{id:a}=w(),{investment:r,sponsors:i,assets:l}=k(),[d,h]=x.useState(null);if(!r||!a)return e.jsx(D,{to:"/",replace:!0});const u=s=>{switch(s){case"pdf":return e.jsx(m,{className:"w-4 h-4 text-red-500"});case"image":return e.jsx(j,{className:"w-4 h-4 text-blue-500"});case"video":return e.jsx(b,{className:"w-4 h-4 text-purple-500"});default:return e.jsx(m,{className:"w-4 h-4 text-gray-500"})}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(B,{investment:r}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsx("div",{className:"w-80 bg-white border-r border-gray-200 overflow-y-auto",children:e.jsxs("div",{className:"p-4",children:[e.jsxs(S,{to:`/investment/${a}`,className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-800 transition-colors mb-4 text-sm",children:[e.jsx(_,{className:"w-4 h-4"}),"Back to Deal Overview"]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wide mb-3",children:"Deal Sponsors"}),e.jsx("div",{className:"space-y-3",children:i.map(s=>e.jsx(P,{sponsor:s},s.id))})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wide mb-3",children:"Due Diligence Materials"}),e.jsx("div",{className:"space-y-1",children:l.map(s=>e.jsx("button",{onClick:()=>h(s),className:`w-full text-left px-3 py-2 rounded-lg transition-colors cursor-pointer ${d?.id===s.id?"bg-blue-50 border border-blue-200":"hover:bg-gray-50 border border-transparent"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[u(s.type),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:s.name}),e.jsx("p",{className:"text-xs text-gray-500",children:s.size})]})]})},s.id))})]})]})}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx("div",{className:"flex-1 p-6 overflow-auto",children:e.jsx(Y,{asset:d})}),e.jsx("div",{className:"p-6 pt-0",children:e.jsx(Z,{})})]})]})]})});export{se as default,te as meta};
